# ğŸŒ Moroccan Parliament Legislation Web Viewer

A beautiful, interactive web interface embedded in the FastAPI application to preview and explore the scraped legislation data from the Moroccan Parliament.

## âœ¨ Features

### ğŸ“Š **Interactive Dashboard**
- **Statistics Overview**: Total legislation count, breakdown by lecture stages
- **Real-time Filtering**: Search by title, law number, or commission
- **Stage Filtering**: Filter by Lecture 1 or Lecture 2
- **Commission Filtering**: Filter by specific parliamentary commissions

### ğŸ¨ **Beautiful Interface**
- **Modern Design**: Clean, responsive layout with gradient backgrounds
- **Card-based Layout**: Each legislation item displayed in an organized card
- **Collapsible Sections**: Expandable sections for detailed information
- **Mobile Responsive**: Works perfectly on all device sizes

### ğŸ” **Detailed Information Display**
- **Basic Info**: Law number, title, stage, commission, ministry
- **Legislative Process**: Detailed breakdown by stages (PremiÃ¨re/DeuxiÃ¨me Lecture)
- **PDF Documents**: Direct links to official PDF documents
- **Timestamps**: When each item was scraped
- **Original Links**: Direct access to source pages

### ğŸ“‹ **Data Organization**
- **Structured Display**: Clear hierarchy of legislative stages
- **Bureau de la Chambre**: Source text, deposit dates, PDF links
- **Commission Data**: Commission names, submission dates
- **SÃ©ance PlÃ©niÃ¨re**: Adoption dates, vote results
- **Rapport Sections**: Additional reports and documents

## ğŸš€ Quick Start

### Production (Vercel Deployment)
The web viewer is now embedded in the FastAPI application and deployed on Vercel:

- **Live URL**: https://scraper-parlement-py-aicx.vercel.app/
- **API Documentation**: https://scraper-parlement-py-aicx.vercel.app/docs

### Local Development
```bash
# Install dependencies
pip install -r requirements.txt

# Run the FastAPI server locally
cd api
uvicorn index:app --reload --host 0.0.0.0 --port 8000

# Open your browser and go to:
# http://localhost:8000/
```

## ğŸ“ File Structure

```
scrap-parlement/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ index.py                 # FastAPI app with embedded frontend
â”œâ”€â”€ src/
â”‚   â””â”€â”€ moroccan_parliament_scraper/  # Core scraper module
â”œâ”€â”€ data/                        # Scraped data storage
â”œâ”€â”€ config/                      # Configuration files
â”œâ”€â”€ vercel.json                  # Vercel deployment config
â””â”€â”€ WEB_VIEWER_README.md        # This file
```

## ğŸ¯ Usage Guide

### ğŸ” **Searching**
- Type in the search box to find legislation by:
  - Law title or description
  - Law number (e.g., "03.25")
  - Commission name
  - Any text content

### ğŸ·ï¸ **Filtering**
- **Stage Filter**: Show only Lecture 1 or Lecture 2 items
- **Commission Filter**: Show items from specific commissions
- **Combined Filters**: Use search + filters together for precise results

### ğŸ“– **Viewing Details**
- Click on stage headers (PremiÃ¨re Lecture, DeuxiÃ¨me Lecture) to expand details
- Click "View Original" to open the source page
- Click "Copy Link" to copy the URL to clipboard
- Click PDF links to open documents in new tabs

## ğŸ¨ Design Features

### ğŸŒˆ **Visual Elements**
- **Color-coded Stages**: Different colors for Lecture 1 vs Lecture 2
- **Gradient Backgrounds**: Modern visual appeal
- **Hover Effects**: Interactive feedback on all clickable elements
- **Icons**: Intuitive icons for different content types

### ğŸ“± **Responsive Design**
- **Desktop**: Full-width layout with multi-column grids
- **Tablet**: Adjusted layout for medium screens
- **Mobile**: Single-column layout with optimized touch targets

## ğŸ”§ Technical Details

### ğŸ’» **Technologies Used**
- **HTML5**: Semantic markup structure
- **CSS3**: Modern styling with flexbox and grid
- **Vanilla JavaScript**: No external dependencies
- **Fetch API**: Asynchronous data loading
- **Local Storage**: Could be extended for user preferences

### ğŸ“Š **Data Format**
The viewer expects JSON data in the format generated by the scraper:
```json
{
  "current_year": "2024-2025",
  "total_items": 6,
  "data": [
    {
      "title": "Projet de loi...",
      "law_number": "03.25",
      "stage": "Lecture 2",
      "commission": "Commission name",
      "premiere_lecture": { ... },
      "deuxieme_lecture": { ... },
      "rapport_section": { ... }
    }
  ]
}
```

### ğŸš€ **Performance**
- **Client-side Rendering**: Fast filtering and searching
- **Lazy Loading**: Collapsible sections load content on demand
- **Efficient DOM**: Minimal re-rendering for smooth interactions

## ğŸ› ï¸ Customization

### ğŸ¨ **Styling**
Edit the `<style>` section in `api/index.py` to customize:
- Colors and gradients
- Fonts and typography
- Layout and spacing
- Card designs

### âš™ï¸ **Functionality**
Modify the JavaScript section to:
- Add new filter options
- Change data display format
- Add export functionality
- Integrate with external APIs

## ğŸ› Troubleshooting

### âŒ **Common Issues**

**"Error Loading Data"**
- Ensure `data/extracted-data-2025.json` exists
- Run the scraper first: `python3 run_scraper.py`

**"CORS Error" (when opening file directly)**
- Use the embedded FastAPI server: `uvicorn index:app --reload`
- Or use any local HTTP server

**"Port already in use"**
- The server script will automatically try different ports
- Or specify a different port manually

### ğŸ’¡ **Tips**
- Keep the browser developer tools open to see any JavaScript errors
- Refresh the page after running the scraper to see new data
- Use Ctrl+F5 to force refresh and clear cache

## ğŸ”® Future Enhancements

### ğŸ¯ **Planned Features**
- **Export Options**: Export filtered results to CSV/PDF
- **Advanced Filters**: Date ranges, ministry filters, text search
- **Data Visualization**: Charts and graphs for legislation trends
- **User Preferences**: Save filter settings and view preferences
- **Real-time Updates**: Auto-refresh when new data is available

### ğŸ”§ **Technical Improvements**
- **Progressive Web App**: Offline functionality
- **Print Styles**: Optimized printing layouts
- **Accessibility**: Enhanced screen reader support
- **Internationalization**: Multi-language support

## ğŸ“‹ Requirements

- **Python 3.6+** (for the server script)
- **Modern Web Browser** (Chrome, Firefox, Safari, Edge)
- **Generated Data File** (`data/extracted-data-2025.json`)

## ğŸ‰ Enjoy!

The web viewer provides a beautiful, user-friendly way to explore the Moroccan Parliament legislation data. Perfect for researchers, journalists, legal professionals, or anyone interested in parliamentary activities.

**Happy exploring!** ğŸ›ï¸âœ¨
